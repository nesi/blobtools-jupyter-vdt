{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Launch BlobToolsKit viewer via JupyterHub Virtual Desktop","text":"<p>1. Install</p> <ol> <li> <p>Start a Jupyter server session via https://jupyter.nesi.org.nz/. </p> <ul> <li>Ideally with 4CPUs and 8GB of memory </li> </ul> </li> <li> <p>Click  Virtual Desktop icon    </p> </li> <li> <p>Open a Terminal session on Virtual Desktop and procees with the installation </p> <ul> <li> <p>Installation can be done via any terminal and not restricted to virtual desktop terminal </p> </li> <li> <p>change path to nobackup as we are going to create a python virtual environment which will consume a reasonable amount of Inodes.     <pre><code>cd /nesi/nobackup/nesi12345/\n</code></pre></p> </li> <li>Load a python module     <pre><code>module purge\nmodule load Python/3.10.5-gimkl-2022a\n</code></pre></li> <li>Create a virtual environment     <pre><code>python -m venv blobtools2\n</code></pre></li> <li>Activate the environment     <pre><code>source blobtools2/bin/activate\n</code></pre></li> <li>Install <code>blobtoolkit[full]</code> (&amp; couple of other dependencies which will be needed for creating datasets beyond the tutorial)     <pre><code>pip install blobtoolkit[full] sniffio async_generator \n</code></pre></li> <li>Although installing <code>[ful]</code> should take care of the extensions, we recommend installing <code>[host]</code> as a standalone command      <pre><code>pip install blobtoolkit[host]\n</code></pre></li> </ul> </li> </ol> <p>2. Create a sample dataset and test</p> <p>These instructions are extracted from the official BlobToolKit support documentation </p> <ul> <li>Choose a path in nobackup as the working directory <pre><code>mkdir -p blobtools_tutorial &amp;&amp; cd blobtools_tutorial\n</code></pre></li> <li>Download a sample .fast file <pre><code>curl ftp://ftp.ncbi.nlm.nih.gov/genomes/all/GCA/001/028/725/GCA_001028725.1_S_venezuelensis_HH1/GCA_001028725.1_S_venezuelensis_HH1_genomic.fna.gz | gunzip -c &gt; ASSEMBLY_NAME.fasta\n</code></pre></li> <li>Create a meta file for viewer  <pre><code>assembly:\n  accession: GCA_001028725.1\n  alias: S_venezuelensis_HH1\n  bioproject: PRJEB530\n  biosample: AMD00012916\n  record_type: contig\ntaxon:\n  name: Strongyloides venezuelensis\n</code></pre></li> <li>Create the dataset <pre><code>blobtools create --fasta ASSEMBLY_NAME.fasta --meta ASSEMBLY_NAME.yaml --taxid 75913 --taxdump ${PWD}/taxdump ${PWD}/DATASETS/ASSEMBLY_NAME\n</code></pre></li> </ul> <p>Launch BlobToolKit viewer</p> <ul> <li>Make sure the working directory contains the DATASET/ directory and the input files. </li> <li> <p>Once verify, run  <pre><code>blobtools host --port 8081 --api-port 8001 --hostname localhost ${PWD}/DATASETS\n</code></pre></p> <ul> <li>If this triggers an error along the lines of <code>ERROR: Port 8001 already in use, unable to host BlobtoolKit API</code>...change the port id </li> </ul> </li> <li> <p>If all goes well, it should trigger a message similar to below </p> </li> <li>Copy the URL appears alongside <code>Visit..</code> .i.e. <code>Visit http://localhost:8081 to use the interactive BlobToolKit Viewer</code></li> <li> <p>Open a Web Browser on Virtual Desktop by either clicking on the Globe icon on the bottom tool bar OR `Applications on top left corner &gt; Internet &gt; Web Browser</p> </li> <li> <p>Paste the copied <code>http://localhost:8081</code> URL on firefox address bar  </p> </li> </ul>"}]}